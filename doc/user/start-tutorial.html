<!--
FILE: 
AUTHOR: Barbara Frewen
DATE: Octobeer 15, 2007
PROJECT: crux
REVISION: $1.0 $
-->

<html>
<head>
<title>Crux: Getting Started</title>

<link rel="stylesheet" href="stylesheet.css" type="text/css">

</head>

<body>
<div id="top">
<h>crux: peptide spectrum analysis tools</h>
</div>

<div id="main">
<div id="side">
<h3>Table of Contents</h3>

<dl>
   <dt><a href="home-tutorial.html">Home</a>
   <dt><a href="install-tutorial.html">Installation</a>
   <dt>Getting Started
   <dt><a href="search-tutorial.html">Searching a Protein Database</a>
   <dt><a href="index-tutorial.html">Creating an Index</a>
   <dt><a href="customize-tutorial.html">Customizing a Search</a>
   <dt><a href="examples-tutorial.html">Examples</a>
   <dt><a href="crux.html">Man pages</a>
   <dt><a href="sitemap-tutorial.html">Index</a>
</dl>
<hr>
<h3>On this Page</h3>
<dl>
   <dt><a href="#env">Your environment</a>
   <dt><a href="#ms2">Spectrum file</a>
   <dt><a href="#fasta">Protein file</a>
</dl>
</div><!--end side-->

<h3>Getting Started</h3>
<p> This page will talk about setting up your environment and choosing
your input files.  
</p>

<a name="env"></a>
<h4>Your environment</h4>
<p>For this tutorial, we'll assume you already know some basic
commands for changing directories, listing files and other simple
tasks.  To successfully run the sample commands, you'll need to work from 
a directory for which you have write permission, for instance, anywhere
in your home directory.  Create a new directory and navigate to it.</p>
<div class=code><code>
$ mkdir crux-demo<br>
$ cd crux-demo</code>
</div>
<p>
We will refer to this directory as the <em>working directory</em>.</p>
<p>Next, make sure that the computer knows where to look for the
<span class=prog>crux</span> programs.  Try this command. </p>
<div class=code><code> 
$ which crux-search-for-matches</code>
</div>
<p>
If it returns a single line with a path ending in <span
class=out>crux-search-for-matches</span>, then you are set.  If not,
you will need to change your <span class=code>$PATH</span> environment
variable.  <span class=code>$PATH</span> is a list of places that the
computer looks for executable programs.  Add to it the location of
your <span class=prog>crux</span> installation.  If crux is in <span
class=file>~/bin/crux</span> change <span class=code>PATH</span> with
this command.  (If crux is installed elsewhere, replace <span
class=file>~/bin/crux/</span> with that location.)</p>

<div class=code><code>
$ PATH=$PATH:~/bin/crux</code>
</div> 

<p>Run the <span class=code>which</span> command (above) again to
confirm that the change worked.


</p>

<a name=ms2></a>
<h4>Input file: mass spectra</h4>
<p>Included in the <span class=prog>crux</span> distribution are some
sample files containing mass spectra.  We will use the <span
class=file>demo.ms2</span> for this tutorial.  Locate the file from
the download and copy it to the current working directory.  
</p>
<p>The beginning of the file looks like this.
</p>
<pre>
H       CreationDate    2/14/2007 6:19:18 PM
H       Extractor       MakeMS2
H       ExtractorVersion        1.0
H       Comments        MakeMS2 written by Michael J. MacCoss, 2004
H       ExtractorOptions        MS2/MS1
H       DAnalyzer       charge_czar
S       10  10  468.80
I       ID      93
I       RTime   4.3822
Z       2       936.59
Z       3       1404.38
136.3 1.6
147.1 14.1
148.3 2.9
150.1 1.2
</pre>
<div class=note><em>NOTE: There are two kinds of optional lines which
may be included for each spectrum.  Lines beginning with </em><span
class=file>I</span><em> are contain information independent of the
charge state. Following a </em> <span class=file>Z</span><em> line may
be one beginning with </em><span class=file>D</span><em> containing
information specific to the above charge state. </em>
</div>

<p>
The first lines beginning with <span class=file>H</span> are the
header lines and contain information about the program that generated
the file, the date it was created, and so on.  The line starting with
<span class=file>S</span> begins the information about the first
spectrum.  Following the <span class=file>S</span> is the scan number
(twice) and the m/z of the precursor ion.  The lines beginning with
<span class=file>Z</span> list the possible charge states of the
spectrum (in this case 2 or 3) and the mass of the peptide at that
charge state.  Following the <span class=file>Z</span> lines is the
list of peaks for the spectrum.  The subsequent spectra in the file
repeat this pattern of <span class=file>S</span> line, <span
class=file>Z</span> line(s), and peak list.  <span
class=file>demo.ms2</span> contains 154 spectra.
</p>

<a name="fasta"></a>
<h4>Input file: protein database (fasta file)</h4>
<p>The second input file you will need is a protein database which is
a list of proteins you expect to find in your sample and their
sequences.  A sample fasta file is also comes with the distribution.
We will use <span class=file>yeast.fasta</span>.  Copy
it to your current working directory.
</p>

<p>The beginning of the file looks like this.
</p>

<pre>
>YAL001C TFC3 SGDID:S000000001, Chr I from 151168-151099,151008-147596, reverse complement, Verified ORF, "Largest of six subunits of the RNA polymerase III transcription initiation factor complex (TFIIIC); part of the TauB domain of TFIIIC that binds DNA at the BoxB promoter sites of tRNA and similar genes; cooperates with Tfc6p in DNA binding"
MVLTIYPDELVQIVSDKIASNKGKITLNQLWDISGKYFDLSDKKVKQFVLSCVILKKDIE
VYCDGAITTKNVTDIIGDANHSYSVGITEDSLWTLLTGYTKKESTIGNSAFELLLEVAKS
GEKGINTMDLAQVTGQDPRSVTGRIKKINHLLTSSQLIYKGHVVKQLKLKKFSHDGVDSN
</pre>

<p>Lines beginning with <span class=file>&lt;</span> give the name of
a protein.  The first word is the protein name followed by an optional
description of any length.  The following lines contain the protein
sequence.  Proteins may or may not be separated by blank lines.
<span class=file>yeast.fasta</span> contains 6830 proteins.
</p>

<a href="search-tutorial.html"><h4>Next: Running a search</h4></a>









</div><!--end main-->

</body>
</html>
