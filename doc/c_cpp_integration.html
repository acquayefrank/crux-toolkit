C and C++ integration
Author: Christopher Park
7/24/07

To call C++ functions from a C application there needs to be a C interface 
written within the C++ portion of the code. The C interface must be compiled 
within a 'extern "C"' bracket, where the compiler makes the interface be 
callable by other C functions.  Then, whenever the C code needs to call the 
interface functions just include the interface.h file.

For example of a C/C++ interface file.

// C/C++ interface written in C but compiled with the C++ portion of the code. 
#ifdef __cplusplus
extern "C" {
#endif

void get_value(float input);

#ifdef __cplusplus
}
#endif

Then to use it in a C file,

#include "PercolatorCInterface.h"

float x = get_value(2.0);

For compiling, the easiest way is to compile the C++ code into a library then 
to link the newly created library when compiling the C code. In addition, if 
the C++ code uses the standard C++ library, you must also link the standard 
C++ library by adding the  -lstdc++ flag.

A simple example would be the following.

//compile C code match_analysis with a c++ code library using C++ STL.
gcc match_analysis.c  lib_your_cpp_code.a  -lstdc++