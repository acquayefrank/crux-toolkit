<html>
 <title>Notes on releasing new versions of Crux</title>
<body>
 <h2 align=center>Notes on releasing new versions of Crux</h2>

<h3>Branching</h3>
<p>The first release of crux, version 1.0, was given its own development
branch named <code>rel-1-0</code> in the CVS repository.  Bugs
reported by users were fixed in this branch and builds from this
branch were made available for download. Changes made to this branch
are periodically merged into the trunk. The next major release should
be given its own branch at which point work in <code>rel-1-0</code>
will cease.</p>

<h3>Version numbers</h3>
<p>Each time new files are made available for download, the version
number should increment by 0.01. The version number is maintained in
crux/configure.ac in the line <pre>AM_INIT_AUTOMAKE(crux, 1.01)</pre>

This controls the numbering of packages and what is reported by the 
<code>--version</code> option.</p>

<h3>Building packages</h3>
<p>There are two targets in the root for building packages.  The
command <code> make dist</code> will create a tarred and zipped file
in the root containing source code and documentation.  The command
<code> make bdist </code> will create a zipped file in the root
containing the compiled binaries for all of the crux tools and the
documentation.  The binary package can only be built after the
executables have been built.  The binary package file will include the
computer architecture and operating system in the name so that builds
on multiple computers can be easily distinguished.</p>

<p>After building the packages, run <code>make checksum</code>.  Do
this for each bdist package built.  A new file with the output of the
checksum is created for each package and will be included on the
download page.</p>

<p>Each version that is released should be added to CVS in <code>
crux/doc/user/downloads</code>.  Detailed notes about changes made can be
recorded in <code>crux/ChangeLog</code>.  A more general description of changes
(aimed at the user) should be recorded in
<code>crux/doc/user/download/release-notes.html</code></p> 

<h3>Updating the website</h3>
<p>The public crux website is at
 <code>/var/noble/www/htdocs/proj/crux</code>
 and its address is http://noble.gs.washington.edu/proj/crux/.  The
<code>proj/crux/</code> directory should contain all of the files and
 subdirectories of <code>crux/doc/user/</code>.  The the target
 <code>webpage</code> in <code>crux/doc/user</code> will copy all
 necessary files to the web directory. The login/password
 for the downloads page is <code>crux</code> and <code>34cabxR</code>.
</body>
</html>
